---
title: "排程管理使用方式"
description: "排程管理的使用方式與 Cronjob 語法使用介紹及其實際範例，讓您更加了解如何善用排程管理，對您的伺服器進行自動化定時控制。"
date: 2023-01-25T11:27:47+08:00
lastmod: 2023-01-25T11:27:47+08:00
draft: false
images: []
---

什麼是「排程管理」？排程管理是面板一個可以定時發送指令、備份或重啟、開機、關機的功能，藉由 Cronjob 語法不需要人工處理，主機會依照您所設定的時間自動幫您進行某些事情，很適合用做定時重啟。

## 操作說明

1. 進入伺服器的「排程管理」（可在上方選單列找到）
![排程管理選單](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup1.png)

2. 點擊「創建排程」
![創建排程管理](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup2.png)
   1. 排程名稱：如字面上意義，建議可以輸入一些方便了解這個排程要做的事情，方便之後有需要時可以一目瞭然
   2. 分、時、天、月、週：代表這個排程什麼時候要執行
   3. 語法介紹：

   > 由於跳脫字元的問題，本文檔部分斜線顯示為大寫／，在填入欄位時請一律使用小寫/

   單一數字：也就是對應欄位的那個時候（例如：分的欄位填入 0 代表指定時間的 0 分會執行）

   ,：逗號代表分開的時間（例如：分的欄位填入 0,30 代表指定時間的 0 和 30 分都會執行）

   -：代表指定範圍（例如：分的欄位填入 0-10 代表指定時間的 0～10 分中每分鐘都會執行一次）

   *：代表所有時間（例如：分的位置填入 * 代表每一分鐘都會執行）

   /：代表每多久時間，可以把它當做除法的意思（例如：分的位置填入 *／5 代表每 5 分鐘執行一次）

   注意 / 如果除不盡，它的運作模式是（例如：在時的位置填入 *／7 代表每天的 7 14 21 時執行，每天都是這三次時間 ）

   我想這樣的介紹可能還是有聽沒有懂，以下就直接帶舉例

   \* * * * * （代表每分鐘都執行）

   0 * * * * （代表每小時 0 分時執行）

   0 0 * * * （代表每天的 0 時執行）

   0 8-16 * * * （代表每天 8 ~ 16 時中的 0 分會執行）

   0 0,8,16 * * * （代表每天 0 8 16 時的0分會執行）

   0 *／12 * * * （代表每天的 0 12 時會執行）

   0 *／9 * * * （代表每天 9 18 時會執行）

   在這裡推薦一個可以預覽 Cronjob 執行時間的網站：<https://crontab.guru/>
   ![Crontab.guru 網站推薦](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup3.png)
   網站上輸入 Cronjob 語法後，它會給予哪個時候會執行的時間，應該能讓不懂的人更加了解
3. 回到面板點擊剛創建好的排程
   ![剛剛創建完成的排程管理](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup4.png)
4. 進入後點擊右邊的新排程
   ![點擊新排程創建新任務](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup5.png)
5. 進到排程的創建新任務，在此我們就能控制我們要對伺服器進行哪些動作。
   ![新任務內的操作控制介面](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup6.png)
   1. 行動：分為三類發送指令、狀態控制、創建備份
      ![新任務中的三種行為](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup7.png)
      1. 發送指令：也就是當時間到時能在控制台輸入哪些指令（一行一個指令，它是發送到控制台記得不用加 /）
      2. 狀態控制：呼叫伺服器要進行開機、關機、重啟、強制關閉的動作
      3. 創建備份：也就是創建備份（前提是有備份的欄位，它會進行本地的備份，不影響到伺服器的儲存空間，如果備份欄位已經滿了，那會直接覆蓋最舊的那一個）
   2. 時間（以秒為單位）：每個排程中可以創建很多個任務，這是代表距離上一個任務要等待多少的時間才會執行

## 實際範例

![實際範例](https://image.vproxy.cloud/wp-content/uploads/cloud.schedules_autobackup8.png)
依照上圖的設置，每小時的 0 分，會依序進行以下動作
1. 發送通知「伺服器於 10 分鐘後重啟」
2. 進行備份
3. 等待 590 秒後發送通知「伺服器於 10 秒後重啟」
4. 等待 10 秒後進行「重啟」

　　


